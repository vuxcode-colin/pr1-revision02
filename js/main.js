const island=function(){const e={x:0,y:0,max_x:0,max_y:0,answered:!1,size:80,queue:[],timeout:0,hintsOn:!1};const mark=function(t,n){window.requestAnimationFrame((function(){let o="O";t===e.x&&n===e.y&&(o="X");const i=document.getElementById("canvas").getContext("2d"),a=80;i.fillStyle="#222",i.font="bold 80px Arial",i.textAlign="center",i.textBaseline="middle",i.fillText(o,a*t+a+40,n*a+a+4+40)}))};function checkQueue(){if(e.queue.length>0){let t=e.queue.pop();mark(t.x,t.y),clearTimeout(e.timeout),e.timeout=setTimeout(checkQueue,200)}}return{answer:function answer(t,n){null==n&&(n=0),e.answered?alert("You can only give one answer! Reload the program to try again!"):(mark(t,n),null==n&&(n=0),t===e.x&&n===e.y?alert("You found the treasure!"):alert("Nothing found! Try again?"),e.answered=!0)},create:function create(n,o){null!=o&&(e.hintsOn=o);const a=[[2,1],[3,1],[6,1],[9,1],[5,2],[4,4],[5,5]];null==n&&(n=1),e.max_x=a[n][0],e.max_y=a[n][1],e.x=Math.floor(Math.random()*e.max_x),e.y=Math.floor(Math.random()*e.max_y),0==n&&(e.x=1);const l=e.size;r=[0,-2,2,2,-4,6,8,-6,4,12,-6,6,18,-4,4,22,-2,3],z=["#f4edc4","#73defc","#5fcafc","#aba234","#4ac2fc","#aba234","#36bdfc","#dfd995"];const c=document.createElement("canvas"),u=document.querySelector("body");u.style.margin="0",u.style.padding="0",c.setAttribute("id","canvas"),u.appendChild(c),ctx=c.getContext("2d");var x=c.width=window.innerWidth,d=c.height=window.innerHeight;function placeLand(t){ctx.fillStyle=z[7],ctx.fillRect(t.x,t.y,l,l),ctx.fillStyle=z[0];for(let e=0;e<20;e++)ctx.fillRect(t.x+Math.random()*(l-5),t.y+Math.random()*(l-5),2,2)}window.addEventListener("load",(function(){!function Clear(){for(ctx.fillStyle=z[6],ctx.fillRect(0,0,x,d),i=0;i<d;i+=10)for(s=1,t=0;t<x;t+=10)ctx.fillStyle=z[2],ctx.fillRect(t,1==s?i:i-2,10,2),ctx.fillStyle=Math.random()*l<.3?z[1]:z[4],ctx.fillRect(t,1==s?i-2:i-4,10,2),s*=-1}(),function LoadFromData(){let t=a[n];for(let e=0;e<t[0];e++)for(let n=0;n<t[1];n++)placeLand({x:e*l+l,y:n*l+l});for(let e=0;e<t[1]+1;e++){ctx.beginPath(),ctx.moveTo(l,e*l+l),ctx.lineTo(t[0]*l+l,e*l+l),ctx.stroke();for(let e=0;e<t[0]+1;e++)ctx.beginPath(),ctx.moveTo(e*l+l,l),ctx.lineTo(e*l+l,l*t[1]+l),ctx.stroke()}}()}))},check:function check(t,n){return null==n&&(n=0),1==e.hintsOn&&(e.queue.unshift({x:t,y:n}),clearTimeout(e.timeout),e.timeout=setTimeout(checkQueue,200)),t===e.x&&n===e.y||(t<0||n<0||t>=e.max_x||n>e.max_y)&&(e.hintsOn&&console.warn("You are in the sea!"),!1)}}}();